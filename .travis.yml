language: ruby
rvm:
  - 2.3.3
before_install:
  - gem update --system
  - gem update bundler
before_script:
  - psql -c 'create database flashcards_ci_test;' -U postgres
  - cp config/database.travis.yml config/database.yml
script:
  - bundle exec rake db:setup
  - bundle exec rake spec
cache: bundler
services:
  postgresql
addons:
  code_climate:
    repo_token: 99e5f167e3a38054b1ec05dc2716ab94575c517d9ef689a2a8f2ed7c9ceb7f64
# regular test configuration
after_success:
  - bundle exec codeclimate-test-reporter
